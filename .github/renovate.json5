{
  $schema: 'https://docs.renovatebot.com/renovate-schema.json',
  extends: [
    'config:recommended',
    ':gitSignOff',
    'helpers:pinGitHubActionDigests',
    'config:best-practices',
  ],
  gitAuthor: 'renovate[bot] <bot@renovateapp.com>',
  includePaths: [
    '.github/actions/kvstore/**',
    '.github/actions/ginkgo/**',
    '.github/actions/lvh-kind/**',
    '.github/actions/set-env-variables/action.yml',
    '.github/workflows/**',
    '.github/kind-config.yaml',
    '.github/kind-config-ipv6.yaml',
    'images/**',
    'examples/hubble/*',
    'go.mod',
    'go.sum',
    'Makefile.defs',
    '.travis.yml',
    'test/kubernetes-test.sh',
    'test/packet/scripts/install.sh',
    'install/kubernetes/cilium/templates/spire/**',
    'install/kubernetes/cilium/values.yaml.tmpl',
  ],
  schedule: [
    'on monday',
  ],
  postUpdateOptions: [
    'gomodTidy',
  ],
  ignorePaths: [
    'images/cilium-test/Dockerfile',
  ],
  ignoreDeps: [
    'google/oss-fuzz',
  ],
  pinDigests: true,
  ignorePresets: [
    ':prHourlyLimit2',
  ],
  pruneStaleBranches: true,
  baseBranches: [
    'main',
    'v1.15',
    'v1.14',
    'v1.13',
    'v1.12',
  ],
  vulnerabilityAlerts: {
    enabled: true,
  },
  labels: [
    'renovate/stop-updating',
    'kind/enhancement',
    'release-note/misc',
  ],
  stopUpdatingLabel: 'renovate/stop-updating',
  kubernetes: {
    fileMatch: [
      'examples/hubble/hubble-cli\\.yaml',
    ],
  },
  customManagers: [
    {
      customType: 'regex',
      fileMatch: [
        'images/cilium/download-hubble\\.sh',
        'images/runtime/build-gops.sh',
        'images/hubble-relay/download-grpc-health-probe.sh',
      ],
      matchStrings: [
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)\\s+.+_version="(?<currentValue>.*)"',
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?) digestVersion=(?<currentValue>.*)\\s+.+_sha256.*="(?<currentDigest>.*)"',
      ],
    },
    {
      customType: 'regex',
      fileMatch: [
        '^\\.github/workflows/[^/]+\\.ya?ml$',
        '^\\.github/actions/ginkgo/[^/]+\\.ya?ml$',
      ],
      matchStrings: [
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)\\s+.+version: (?<currentValue>.*)',
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)\\s+.+_VERSION: (?<currentValue>.*)',
        "# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)\\s+.+kernel: '(?<currentValue>.*)'",
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*)\\s+.+kernel: "(?<currentValue>.*)@(?<currentDigest>sha256:[a-f0-9]+)"',
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*)\\s+.+image-version: "(?<currentValue>.*)@(?<currentDigest>sha256:[a-f0-9]+)"',
        '# renovate: datasource=(?<datasource>.*?)\\s+.+kube-image: "(?<depName>.*):(?<currentValue>.*)@(?<currentDigest>sha256:[a-f0-9]+)"',
      ],
    },
    {
      customType: 'regex',
      fileMatch: [
        '^Makefile\\.defs$',
      ],
      matchStrings: [
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)\\s+.+_VERSION = (?<currentValue>.*)\\s+.+_SHA = (?<currentDigest>sha256:[a-f0-9]+)',
      ],
    },
    {
      customType: 'regex',
      fileMatch: [
        '^\\.travis\\.yml$',
      ],
      matchStrings: [
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)\\s+go: "(?<currentValue>.*)"',
      ],
    },
    {
      customType: 'regex',
      fileMatch: [
        '^test/kubernetes-test\\.sh$',
        '^test/packet/scripts/install\\.sh$',
        '^.github/actions/set-env-variables/action\\.yml$',
      ],
      matchStrings: [
        '# renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)\\s+.+_VERSION="(?<currentValue>.*)"',
      ],
    },
    {
      customType: 'regex',
      fileMatch: [
        '^go\\.mod$',
      ],
      matchStrings: [
        '// renovate: datasource=(?<datasource>.*?) depName=(?<depName>.*?)\\s+go (?<currentValue>.*)',
      ],
    },
    {
      customType: 'regex',
      fileMatch: [
        '.github/actions/kvstore/action.yaml',
      ],
      matchStrings: [
        'default: (?<depName>.*?):(?<currentValue>.*?)@(?<currentDigest>.*?)\\s',
      ],
      datasourceTemplate: 'docker',
    },
  ],
  rangeStrategy: 'bump',
  packageRules: [
    {
      matchUpdateTypes: [
        'minor',
        'major',
        'patch',
      ],
      groupName: 'all-dependencies',
    },
  ],
}
